import{a as O}from"./chunk-B2HBJZAC.js";import{a as T,b as I,c as B,d as D,e as P,f as L,g as V,h as k,i as A,j as F,k as q}from"./chunk-JZEKDCBV.js";import{$a as m,Ca as y,Ma as w,Na as e,Oa as t,Pa as _,Qa as C,Ra as u,Sa as b,W as S,Wa as W,X as f,Xa as n,Ya as g,Za as x,a as h,ab as s,bb as c,ca as v,pa as r,ua as M,ya as E,yb as N}from"./chunk-4NUCESR5.js";function j(p,d){if(p&1){let l=C();e(0,"tr")(1,"td"),n(2),t(),e(3,"td"),n(4),t(),e(5,"td"),n(6),t(),e(7,"td"),n(8),t(),e(9,"td")(10,"span",32),n(11),t()(),e(12,"td",33)(13,"button",34),u("click",function(){let a=S(l).$implicit,i=b();return f(i.edit(a))}),n(14,"Editar"),t(),e(15,"button",35),u("click",function(){let a=S(l).$implicit,i=b();return f(i.remove(a.id))}),n(16,"Eliminar"),t()()()}if(p&2){let l=d.$implicit;r(2),g(l.nombre),r(2),g(l.categoria),r(2),g(l.nivel),r(2),g(l.tipoSolicitud||"\u2014"),r(2),W("text-bg-success",l.estado==="Activo")("text-bg-secondary",l.estado==="Inactivo"),r(),g(l.estado)}}var R=class p{constructor(d){this.ds=d;d.list$.subscribe(this.list.set)}list=v([]);editing=v(null);form={id:0,nombre:"",categoria:"",nivel:"Bronce",responsable:"",descripcion:"",estado:"Activo",ans:"",horario:"",tipoSolicitud:void 0};new(){this.editing.set(null),this.form={id:Date.now(),nombre:"",categoria:"",nivel:"Bronce",responsable:"",descripcion:"",estado:"Activo",ans:"",horario:"",tipoSolicitud:void 0}}edit(d){this.editing.set(d),this.form=h({},d)}save(){this.editing()?this.ds.update(this.form):this.ds.create(this.form),window.bootstrap?.Modal.getInstance(document.getElementById("svcModal"))?.hide()}remove(d){this.ds.remove(d)}static \u0275fac=function(l){return new(l||p)(M(O))};static \u0275cmp=E({type:p,selectors:[["ng-component"]],decls:88,vars:11,consts:[[1,"h3","mb-3"],[1,"d-flex","justify-content-end","mb-2"],["data-bs-toggle","modal","data-bs-target","#svcModal",1,"btn","btn-primary",3,"click"],[1,"table-responsive"],[1,"table","align-middle"],[4,"ngFor","ngForOf"],["id","svcModal","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg","modal-dialog-scrollable"],[1,"modal-content"],[3,"ngSubmit"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body","row","g-3"],[1,"col-md-6"],[1,"form-label"],["name","nombre","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","categoria","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","nivel","required","",1,"form-select",3,"ngModelChange","ngModel"],["name","responsable","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12"],["rows","3","name","descripcion","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","ans",1,"form-control",3,"ngModelChange","ngModel"],["name","estado","required","",1,"form-select",3,"ngModelChange","ngModel"],["name","horario","placeholder","Ej. L-V 8:00-17:00",1,"form-control",3,"ngModelChange","ngModel"],["name","tipoSolicitud",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","I"],["value","R"],["value","R/I"],[1,"modal-footer"],[1,"btn","btn-primary"],[1,"badge"],[1,"text-end"],["data-bs-toggle","modal","data-bs-target","#svcModal",1,"btn","btn-sm","btn-outline-secondary","me-2",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(l,o){if(l&1&&(e(0,"h1",0),n(1,"Administraci\xF3n de servicios"),t(),e(2,"div",1)(3,"button",2),u("click",function(){return o.new()}),n(4,"Nuevo servicio"),t()(),e(5,"div",3)(6,"table",4)(7,"thead")(8,"tr")(9,"th"),n(10,"Nombre"),t(),e(11,"th"),n(12,"Categor\xEDa"),t(),e(13,"th"),n(14,"Nivel"),t(),e(15,"th"),n(16,"Tipo"),t(),e(17,"th"),n(18,"Estado"),t(),_(19,"th"),t()(),e(20,"tbody"),y(21,j,17,9,"tr",5),t()()(),e(22,"div",6)(23,"div",7)(24,"div",8)(25,"form",9),u("ngSubmit",function(){return o.save()}),e(26,"div",10)(27,"h5",11),n(28),t(),_(29,"button",12),t(),e(30,"div",13)(31,"div",14)(32,"label",15),n(33,"Nombre"),t(),e(34,"input",16),c("ngModelChange",function(i){return s(o.form.nombre,i)||(o.form.nombre=i),i}),t()(),e(35,"div",14)(36,"label",15),n(37,"Categor\xEDa"),t(),e(38,"input",17),c("ngModelChange",function(i){return s(o.form.categoria,i)||(o.form.categoria=i),i}),t()(),e(39,"div",14)(40,"label",15),n(41,"Nivel"),t(),e(42,"select",18),c("ngModelChange",function(i){return s(o.form.nivel,i)||(o.form.nivel=i),i}),e(43,"option"),n(44,"Bronce"),t(),e(45,"option"),n(46,"Plata"),t(),e(47,"option"),n(48,"Oro"),t()()(),e(49,"div",14)(50,"label",15),n(51,"Responsable"),t(),e(52,"input",19),c("ngModelChange",function(i){return s(o.form.responsable,i)||(o.form.responsable=i),i}),t()(),e(53,"div",20)(54,"label",15),n(55,"Descripci\xF3n"),t(),e(56,"textarea",21),c("ngModelChange",function(i){return s(o.form.descripcion,i)||(o.form.descripcion=i),i}),t()(),e(57,"div",14)(58,"label",15),n(59,"ANS"),t(),e(60,"input",22),c("ngModelChange",function(i){return s(o.form.ans,i)||(o.form.ans=i),i}),t()(),e(61,"div",14)(62,"label",15),n(63,"Estado"),t(),e(64,"select",23),c("ngModelChange",function(i){return s(o.form.estado,i)||(o.form.estado=i),i}),e(65,"option"),n(66,"Activo"),t(),e(67,"option"),n(68,"Inactivo"),t()()(),e(69,"div",14)(70,"label",15),n(71,"Horario"),t(),e(72,"input",24),c("ngModelChange",function(i){return s(o.form.horario,i)||(o.form.horario=i),i}),t()(),e(73,"div",14)(74,"label",15),n(75,"Tipo de solicitud"),t(),e(76,"select",25),c("ngModelChange",function(i){return s(o.form.tipoSolicitud,i)||(o.form.tipoSolicitud=i),i}),e(77,"option",26),n(78,"(No especificado)"),t(),e(79,"option",27),n(80,"Incidente"),t(),e(81,"option",28),n(82,"Requerimiento"),t(),e(83,"option",29),n(84,"Ambos"),t()()()(),e(85,"div",30)(86,"button",31),n(87,"Guardar"),t()()()()()()),l&2){let a;r(21),w("ngForOf",o.list()),r(7),x("",(a=o.editing())!=null&&a.id?"Editar":"Nuevo"," servicio"),r(6),m("ngModel",o.form.nombre),r(4),m("ngModel",o.form.categoria),r(4),m("ngModel",o.form.nivel),r(10),m("ngModel",o.form.responsable),r(4),m("ngModel",o.form.descripcion),r(4),m("ngModel",o.form.ans),r(4),m("ngModel",o.form.estado),r(8),m("ngModel",o.form.horario),r(4),m("ngModel",o.form.tipoSolicitud)}},dependencies:[N,q,L,k,A,T,V,I,B,F,P,D],encapsulation:2})};export{R as Services};
